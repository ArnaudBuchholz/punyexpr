!function(r){"use strict";var e="string";const a="identifier";const d="symbol";const t={};const l={},v=[e,e,"number","boolean",a,d,t,l],n=new RegExp([/'((?:[^'\\]|\\.)*)'/,/"((?:[^"\\]|\\.)*)"/,/((?:\d+(?:\.\d*)?|\.\d+))/,/(true|false)/,/([a-zA-Z_][a-zA-Z_0-9]*)/,/(\+|-|\*|\/|\[|\]|\.)/,/(\s)/,/(.)/].map(r=>{r=r.toString();return r.substring(1,r.length-1)}).join("|"),"g"),p=[r=>r.replace(/\\'/g,"'"),r=>r.replace(/\\"/g,'"'),r=>parseFloat(r),r=>"true"===r];class x extends Error{constructor(r,e,t){super(e),this.name=r,this.offset=t}}x.t=(r,e,t)=>{throw new x(r,e,t)};const i=2,o=r=>{const s=r=>x.t("InvalidTokenError","Invalid token @"+r,r),c=[];let u=0,a=t;const i=[t,d];return r.replace(n,(r,...e)=>{var t=e.findIndex(r=>void 0!==r),e=e[t];let n;var o=p[t],o=(n=o?o(e):e,v[t]);i.includes(o)||i.includes(a)||s(u),(a=v[t])===l&&s(u),c.push([a,n,u]),u+=e.length}),c.filter(([r])=>r!==t)},E=(r,...e)=>Object.assign(r.bind(null,...e),{op:r.name,args:e}),f={o(r){return r},u(t,r){const n=r.pop();var e=r.shift();return r.reduce((r,e)=>t(r,e,n),e(n))},add(...r){return f.u((r,e,t)=>r+e(t),r)},sub(...r){return f.u((r,e,t)=>r-e(t),r)},get(r,e){return e[r(e)]},i(r,e,t,n){return(r(n)?e:t)(n)}},s=t=>{const n=()=>t[0],o=()=>n()[i],s=(r=1)=>{var e=t.slice(0,r);return t=t.slice(r),e},c=(r=void 0)=>{var[e,t]=n()||[];return e===d&&(!r||r.includes(t))},u={l(){0===t.length&&x.t("EndOfExpressionError","Unexpected end of expression"),c()&&x.t("UnexpectedTokenError","Unexpected token @"+o(),o());var[[r,e]]=s();return r===a?E(f.get,E(f.o,e)):E(f.o,e)},v(){let r=u.l();if(n())for(;c("-+");){var[[,e]]=s(),t=u.l();r="+"===e?E(f.add,r,t):E(f.sub,r,t)}return r},p(){return u.v()}};var r=u.p();return 0!==t.length&&x.t("UnexpectedRemainderError","Unexpected left over tokens @"+o(),o()),r};e=r=>{const e=s(o(r));return Object.assign(function(r={}){try{return e(r)}catch(r){return""}},{impl:e,str:r})};Object.assign(e,{tokenize:o,Error:x}),r.g=e}(this);
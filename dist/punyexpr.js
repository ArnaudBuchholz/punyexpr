!function(e){"use strict";const u="literal",d="identifier",p="symbol";class v extends Error{constructor(e,r,t){super(r),this.name=e,this.offset=t}}v.t=(e,r,t)=>{throw new v(e,r,t)};const t=e=>{const t="abstract,arguments,await,boolean,break,byte,case,catch,char,class,const,continue,debugger,default,delete,do,double,else,enum,eval,export,extends,final,finally,float,for,function,goto,if,implements,import,in,instanceof,int,interface,let,long,native,new,package,private,protected,public,return,short,static,super,switch,synchronized,this,throw,throws,transient,try,var,void,volatile,while,with,yield".split(",");var r=new RegExp([/'((?:[^'\\]|\\.)*)'/,/"((?:[^"\\]|\\.)*)"/,/((?:\d+(?:\.\d*)?|\.\d+))/,/([a-zA-Z_][a-zA-Z_0-9]*)/,/(\+|-|\*|\/|\[|\]|\.|\?|:)/,/(\s)/,/(.)/].map(e=>{e=e.toString();return e.substring(1,e.length-1)}).join("|"),"g");const o=e=>v.t("InvalidTokenError","Invalid token @"+e,e),n={true:!0,false:!1,undefined:void 0,null:null},i=[e=>[u,e.replace(/\\'/g,"'")],e=>[u,e.replace(/\\"/g,'"')],e=>[u,parseFloat(e)],(e,r)=>Object.prototype.hasOwnProperty.call(n,e)?[u,n[e]]:(t.includes(e)&&o(r),[d,e]),e=>[p,e],e=>[],(e,r)=>o(r)],s=[];let a=0,c;const l=[u,d];return e.replace(r,(e,...r)=>{var t=r.findIndex(e=>void 0!==e),r=r[t],[t,n]=(0,i[t])(r,a);l.includes(t)&&l.includes(c)&&o(a),void 0!==(c=t)&&s.push([t,n,a]),a+=r.length}),s};var r=e=>{const r=(t=>{const n=(e,...r)=>Object.assign(e.bind(null,...r),{op:e.name,args:r}),o={o(e){return e},add(e,r,t){return e(t)+r(t)},sub(e,r,t){return e(t)-r(t)},get(e,r){return r[e(r)]},i(e,r,t,n){return(e(n)?r:t)(n)}},i=()=>t[0],e=()=>i()[2],s=(e=1)=>{var r=t.slice(0,e);return t=t.slice(e),r},a=(e=void 0)=>{var[r,t]=i()||[];return r===p&&(!e||e.includes(t))},c=()=>{0===t.length&&v.t("EndOfExpressionError","Unexpected end of expression")},l=()=>v.t("UnexpectedTokenError","Unexpected token @"+e(),e()),u={l(){c(),a()&&l();var[[e,r]]=s();return e===d?n(o.get,n(o.o,r)):n(o.o,r)},u(){let e=u.l();if(i())for(;a("-+");){var[[,r]]=s(),t=u.l();e="+"===r?n(o.add,e,t):n(o.sub,e,t)}return e},p(){var e,r,t=u.u();return i()&&a("?")?(s(),e=u.v(),c(),a(":")||l(),s(),r=u.v(),n(o.i,t,e,r)):t},v(){return u.p()}};var r=u.v();return 0!==t.length&&v.t("UnexpectedRemainderError","Unexpected left over tokens @"+e(),e()),r})(t(e));return Object.assign(function(e={}){try{return r(e)}catch(e){return""}},{impl:r,str:e})};Object.assign(r,{tokenize:t,Error:v}),e.h=r}(this);